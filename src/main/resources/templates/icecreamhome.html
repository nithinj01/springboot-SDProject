<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <title>Software Development Project</title>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
            integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
            crossorigin="anonymous"></script>
    <script type="application/javascript">
    $(document).ready(function(){
    $("#tr1").hide();
    $("#tr2").hide();
    $("#addstationbtn").click(function(){
     $("#tr1").show();
    $("#tr2").show();
    });
    $("#closebtn").click(function(){
    $("#tr1").hide();
    $("#tr2").hide();
    });
  var count=1;
    $("#myDropdown").change(function () {
    alert("Changing Station ID");
    var selectedValue = $(this).val();
    $("#txtBox").val($(this).find("option:selected").attr("value"));
    var value = $('select#myDropdown option:selected').val();
    myFunction(value);
    calvariance();
});
$("#actual").change(function () {

    calvariance();
});
$("#submitbtn").click(function(){
alert('Adding New Station Id');
    var value1 = $('#addstation').val();
    var value2 = $('#addtarget').val();

    var newOption = $('<option>');
newOption.attr('value',value1).text(value1);
 $('#myDropdown').append(newOption).prop('selected', true);

    $('#target').val(value2);
    $('#txtBox').val(value1);
    $('#myDropdown').val(value1);
    calvariance();
});
    function calvariance() {
    var value1 = $('#target').val();
    var value2 = $('#actual').val();
    var val3=value1-value2;
    $("#variance").val(Math.abs(val3));

    var percval = (100 * val3) / (value1);

    if(percval<=10){

   $("#variance").css({"background-color": "red"});
    }
    else if(percval>=5){

    $("#variance").css({"background-color": "green"});
    }
}
});

</script>
</head>

<style>
tr {
  border: 1px solid black;
  padding: 8px;
}

h1 {
  text-align: center;
  text-transform: uppercase;
  color: #47a44a;
  font-size: 32px;
   background-color: #f2dede;
   border: 2px solid #c57e7e;
}
h3{
background-color: #f2dede;
}
.footer {
   position: fixed;
   left: 0;
   bottom: 0;
   width: 100%;
   background-color: black;
   color: white;
   text-align: center;
   }


</style>
<body style="background-color: #EBEBEB">

<nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
    <h3 class="navbar-brand" href="#">CS BigData & AI</h3>
</nav>

<main role="main" class="container" >

    <div class="starter-template">
        <h1 align="center">Software Development Project</h1>

    </div><br><br><br>
    <div>
    <div style="" >
        <div style="width: 50%; height: 100px; float: left;margin-left: 10%;">
            <table border="border: 1px solid black;">
            <tr align="left">

                <select th:field="*{tasks}" id="myDropdown">
                    <option value="">Select assessment</option>
                    <option th:each="task : ${tasks}" th:value="${task}" th:text="${task}"></option>
                </select>

            </tr><br><br>
                <tr align="left">
                    <button type="button" id="addstationbtn">Add Station</button>
                </tr>
                <tr id="tr1">
                    <td>Station ID:</td>
                    <td><input id="addstation" type="text" value="" /></td>
                </tr>
                <tr id="tr2">
                    <td>Target:</td>
                    <td><input id="addtarget" type="text" value="" /></td>
                    <td><input id="submitbtn" type="submit" value="Submit"></td>
                    <td><input id="closebtn" type="submit" value="Close"></td>
                </tr>
            </table>
        </div>
        <div style="margin-left: 50%; height: 100px;">
            <table border="border: 5px solid black;">
            <tr>
                <td>Station ID:</td>
                <td><input id="txtBox" type="text" th:field="*{message}" /></td>
            </tr><br>
            <tr>
                <td>Date:</td>
                <td><input type="text" value="12/08/2022" /></td>
            </tr>
                <tr>
                    <td>Target:</td>
                    <td><input id="target" type="text" th:field="*{message}" /></td>
                </tr>
                <tr>
                    <td>Actual:</td>
                    <td><input id="actual" type="text" value="0" /></td>
                </tr>
                <tr>
                    <td>Variance:</td>
                    <td><input id="variance" type="text" value="0" /></td>
                </tr>
            </table>
        </div>
    </div>
    </div>

</main>
<!-- /.container -->
<script>
    function myFunction(p1) {
        if(p1=='NV141'){
        $("#target").val("42");
        }else if(p1=='MK76Y'){
         $("#target").val("45");
        }else if(p1=='NV140'){
         $("#target").val("51");
        }else if(p1=='NV142'){
         $("#target").val("37");
        }else if(p1=='NV143'){
         $("#target").val("75");
        }else if(p1=='RLD8'){
         $("#target").val("55");
        }else if(p1=='RLD9'){
         $("#target").val("67");
        }else if(p1=='RLD14'){
         $("#target").val("66");
        }else if(p1=='RLD15'){
         $("#target").val("36");
        }

    }
</script>

<div class="footer">
    <p>Java Spring boot 2022 - MV and Ice-Cream Particulate.</p>
</div>
</body>
</html>